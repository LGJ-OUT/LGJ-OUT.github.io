(function(){"use strict";var t={1185:function(t,e,a){var i=a(6848),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],o=a(1656),r={},l=(0,o.A)(r,n,s,!1,null,null,null),c=l.exports,u=a(6178),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"body"},[e("div",{staticClass:"container"},[e("div",{staticClass:"heading"},[t._v("Sign In")]),e("form",{staticClass:"form",attrs:{action:""}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.usename,expression:"usename"}],staticClass:"input",attrs:{type:"test",placeholder:"usename"},domProps:{value:t.usename},on:{input:function(e){e.target.composing||(t.usename=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("el-button",{staticClass:"login-button",attrs:{type:"submit"},on:{click:t.login}},[t._v("Sign In")])],1),e("span",{staticClass:"agreement"},[t._v("无人船河道排污监测系统")])])])},p=[],h=(a(4114),{name:"Login",data(){return{usename:"",password:""}},methods:{login(){this.$store.commit("set_msg",this.usename),/^\d{6}$/.test(this.password)&&/\D*[a-zA-Z]\D*/.test(this.usename)?(this.$notify({title:"登入成功",message:"",type:"success",showClose:!1,duration:1e3}),this.$router.push("/layout")):this.$notify.error({title:"登入失败",message:"请输入正确的用户名称和密码",showClose:!1,duration:850})}}}),m=h,v=(0,o.A)(m,d,p,!1,null,"26c47f0d",null),f=v.exports,g=function(){var t=this,e=t._self._c;return e("el-container",[e("el-aside",{attrs:{width:"200px"}},[e("div",{staticClass:"boot"},[t._v("无人船河道排污监测系统")]),e("asideNav")],1),e("el-container",[e("el-header",[e("span",{staticClass:"time"},[t._v("北京时间: "+t._s(t.newTime))]),e("div",{staticClass:"user-name"},[t._v(t._s(t.msg))]),e("div",{staticClass:"user-picture"})]),e("el-main",[e("router-view")],1)],1)],1)},_=[],b=function(){var t=this,e=t._self._c;return e("el-col",[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""}},[e("el-menu-item",{attrs:{index:"/layout/7"}},[e("i",{staticClass:"el-icon-video-camera"}),e("span",[t._v("摄像头&控制")])]),e("el-menu-item",{attrs:{index:"/layout/3"}},[e("i",{staticClass:"el-icon-pie-chart"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("数据监测")])]),e("el-menu-item",{attrs:{index:"/layout/4"}},[e("i",{staticClass:"el-icon-map-location"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("船体与监测点分布信息")])]),e("el-menu-item",{attrs:{index:"/layout/5"}},[e("i",{staticClass:"el-icon-bell"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("报警和数据异常情况")])]),e("el-menu-item",{attrs:{index:"/layout/1"}},[e("i",{staticClass:"el-icon-position"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("其他")])])],1)],1)},y=[],C={name:"asideNav"},w=C,x=(0,o.A)(w,b,y,!1,null,"f41f5f52",null),A=x.exports,k={name:"Layout",data(){return{newTime:"",msg:""}},components:{asideNav:A},mounted(){this.getNowTime(),clearInterval(t);var t=setInterval((()=>{this.getNowTime()}),1e3);this.msg=this.$store.state.msg},methods:{getNowTime(){var t=new Date,e=t.getFullYear()+"-"+this.addZero(t.getMonth()+1)+"-"+this.addZero(t.getDate())+" "+this.addZero(t.getHours())+":"+this.addZero(t.getMinutes())+":"+this.addZero(t.getSeconds());this.newTime=e},addZero(t){return t<10?"0"+t:t}}},$=k,D=(0,o.A)($,g,_,!1,null,"6f994afd",null),S=D.exports,O=function(){var t=this,e=t._self._c;return e("div",[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"}},[e("el-menu-item",{attrs:{index:"2"},on:{click:function(e){t.whichcomponent="first2"}}},[t._v("项目概述")]),e("el-menu-item",{attrs:{index:"3"},on:{click:function(e){t.whichcomponent="first3"}}},[t._v("国、内外研究现状和发展动态")]),e("el-menu-item",{attrs:{index:"4"},on:{click:function(e){t.whichcomponent="first4"}}},[t._v("创新点与项目特色")]),e("el-menu-item",{attrs:{index:"5"},on:{click:function(e){t.whichcomponent="first5"}}},[t._v("无人船实体图")])],1),e(t.whichcomponent,{tag:"component"})],1)},U=[],M=function(){var t=this;t._self._c;return t._m(0)},T=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"A"},[e("div",{staticClass:"a"},[e("h3",[t._v("一、项目简介")]),e("span",[t._v("        随着城市化进程的加快和工业活动的增加，工业企业数量在不断增加，与此同时，生活排污和工业排污剧增，排污管理也越发困难。甚至有不少偷排暗排发生，对环境造成了严重的污染。为了对区域排污达标的集中监测、管理和发现偷排暗排行为，保护环境和人民的健康，建立一套完善的区域污水排放的监测系统方案来监测和管理污水排放具有重要意义。传统的排污达标监测方式往往依赖于人力或固定设备，存在处理费时费力、响应不及时、难以发现偷排暗排等问题，如污染发生在江河中央，或者隐蔽陡峭处，更有人员安全风险。因此，探索高效、智能、灵活的区域污水排放的监测系统成为当务之急。结合当前人工智能与自动化技术 ，确定开发“基于无人船的河道排污监测系统”的创新项目。 智能河道排污监测无人船，主要解决以下问题：无人船智能路线规划和自主巡航；对排污水域进行水质达标检测和重金属含量达标检测，若不达标，则进行采样；智能识别污染物并进行分类和分布密度的计算；智能识别疑似有偷排暗排的水域并采样进行水质检测和重金属含量达标检测。查看采集数据以及监控实时捕捉的画面，同时可以对无人船的自主巡航规划路径。通过web，创建一套链接整块区域的智能排污监测管理系统，方便水质监管部门对区域排污进行集中监管。 ")])]),e("div",{staticClass:"b"},[e("h3",[t._v("二、研究目的")]),e("span",[t._v("       本项目旨在设计并开发一套以多个智能河道排污监测无人船采集信息为基础形成的区域排污监测管理系统。无人船能够智能路线规划和自主巡航、实时监测排污口污水排放是否达标、智能识别管控水域漂浮污染物，识别与发现偷排暗排的排污点、区域排污监测管理系统。首先，无人船搭载水质监测传感器、图像与视频采集影像设备，应用人工智能识别技术、机器视觉识别技术、北斗卫星导航系统（BDS）与无线数据传输技术进行数据的采集、识别与传输。然后，通过4G将数据传输到云服务器。最后，小程序端便于工作人员对数据的实时查看，web端实现对数据的集中处理和管理。 ")])]),e("div",{staticClass:"c"},[e("h3",[t._v("三、研究内容")]),e("span",[t._v("1、自主导航与自主避障：搭配上超声波传感器，加速度传感器。无人船可以进行自主巡航、路径规划、自主避障")]),e("span",[t._v("2、水质监测与采样：搭载pH值传感器、溶解氧传感器、浊度传感器、电导率传感器、温度传感器和离子传感器对污水进行精确化的检测。")]),e("span",[t._v("3、影像采集与识别：在船体上安装摄像头，为识别服务。使用性能较好的YOLOv9算法，YOLOv9，结合了PGI和GELAN的设计，展现出了卓越的性能。YOLOv9的使用有利于提高识       别的准确率和速度，增强识别效果。实现对复杂环境下微小或隐蔽污染物的有效识别，提高AI系统的鲁棒性和泛化能力。")]),e("span",[t._v("4、数据的无线传输：通过4G建立与云服务器的连接，并将采集到的数据传输到云服务器上。使用TCP协议，实现安全通信协议，确保数据传输过程中的隐私与安全。")]),e("span",[t._v("5、云服务器和智能管理系统的构建：开发云平台，实现无人船远程监控、任务调度与数据实时传输，提供用户友好的界面与数据分析工具。利用大数据分析和机器学习技术，对收集       的水质数据进行深度挖掘，预测污染趋势，为环保决策提供科学依据。")]),e("span",[t._v("6、Web端的开发：创建Web端，将多个无人船采集的数据进行集中整合、管理、控制，形成一套对整个区域的排污监测的集中的管理体系，实现水质监管部门的集中监测管理。")])])])}],B={name:"first2"},L=B,z=(0,o.A)(L,M,T,!1,null,"9b2a4a9e",null),H=z.exports,I=function(){var t=this;t._self._c;return t._m(0)},P=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"A"},[e("div",{staticClass:"a"},[e("h3",[t._v("一、国内河道排污监测无人船发展现状")]),e("span",[t._v("        自从环保工作的重要性被大众认知，相关部门在环保工作上的投入力度越来越大，随着2016年12月11日，《关于全面推行河长制的意见》正式出台，以及2017年9月1日环保部对于“全国地表水环境质量监测事权上收”的任务下达，作为“排头兵”的环境监测领域也迎来了它的新成员——无人船。无人船学名叫“水面机器人”，是一种不需要人来操控，可以完全独立自主执行任务的船只，比较适合执行危险或者枯燥、重复的军用、民用任务，例如运用在军事打击、安防巡逻、地貌测绘、环境监测等领域。 无人监测船实现了无人船和水质监测的“跨界融合”，基于这种移动在线监测，可以实现很多过去实现不了的功能，比如把一个湖面地毯式监测一遍之后就可以拿到水质参数分布图，对于污染的分布、扩散情况一目了然，特别是对现在每年我国各大湖水藻爆发的预警和防治提出了新的办法和思路。 另外，利用无人监测船传回的即时信息，可以随时跟踪污染扩散的状况，增加了信息的透明度。采用无人船平台，可以搭载常规的单波束声呐、多波束声呐、侧扫声呐、浅层地表剖析仪器，并可配备常用小目标识别雷达、AIS、气象站、360度全视角云台、夜视摄像头等，为执行不同的任务提供保障。 ")])]),e("div",{staticClass:"b"},[e("h3",[t._v("二、国外河道排污监测无人船发展现状")]),e("span",[t._v("        全球无人船市场规模在过去几年中持续攀升，据预测，到2025年，全球无人船市场规模将达到160亿美元，其中，海洋无人船占比将达到60%以上；到2030年，全球无人船市场规模有望达到400亿美元。 无人船巨大的发展潜力吸引了众多国家和企业纷纷投入研发和生产，竞相研发具有自主知识产权的无人船技术。目前，美国、英国、挪威、荷兰等国家在无人船技术领域取得了显著成果，形成了较为完善的产业链和商业模式。 国外排污检测无人船的发展现状呈现出积极的态势。随着技术的不断进步、政策的持续支持以及市场需求的增加，无人船市场规模正在不断扩大，具有广阔的市场前景和发展潜力。在排污检测领域，无人船的应用日益广泛，其可以自主执行排污检测任务，提高检测效率和准确性，同时降低人员风险和成本。 具体来说，一些先进的无人船已经配备了高精度传感器和智能分析系统，能够实时监测水质变化、识别污染源，并通过数据分析提供决策支持。此外，无人船还可以与其他环保设备进行联动，实现更高效的排污治理。 然而，需要注意的是，无人船在排污检测领域的应用仍处于发展阶段，还需要在技术、政策和市场等方面不断完善和提升。例如，需要加强无人船在复杂环境下的稳定性和可靠性，提高其自主决策和应对突发情况的能力；同时，还需要制定和完善相关的法规和标准，规范无人船在排污检测领域的应用和管理。 ")])]),e("div",{staticClass:"c"},[e("h3",[t._v("三、发展动态")]),e("span",[t._v("        随着近年来国家对环保的重视以及水面保洁问题的日益放大，水面智能化保洁装备也开始走入人们的视野，将无人船技术应用于常规的水面保洁将是未来的趋势。在无人船这个领域，国内已经有不少公司已经在做相关业务，同时也积攒了一定的技术经验。而且无人船正在从军用到民用逐步渗透。国内各无人船企业纷纷推出不同种类的无人船，例如：环境监测无人船、海洋调查无人船、无人安防救援船、无人航运、无人驾驶清洁船、无人驾驶割草船等。水质采样普遍使用无人船代替传统的人工作业，无人船水质采样不仅作业效率高而且还方便搬运；除此之外，国内现在的河道普查，也已经在使用无人船搭载侧扫或者多波束声纳来作业，在经济层面上节省了人工；以及河道巡逻安防、河面保洁等都可以应用无人船技术。 在当下，精准治污、科学治污已经成为常态。各地各级的联合执法队伍形成了河湖管理保护的强大合力。在河湖环境的实际巡查工作中，快速大面积获取区域信息、重点区域精准取证，以及巡查高效性、取证手段灵活性上有更高的要求。针对这类痛点，无人船可以很好的发挥功用。 ")])])])}],j={name:"first3"},N=j,G=(0,o.A)(N,I,P,!1,null,"5b50b8d2",null),Y=G.exports,Z=function(){var t=this;t._self._c;return t._m(0)},E=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"A"},[e("span",{staticClass:"d"},[t._v("         我国近十多年一直在发展在线监测技术，在水面放置浮漂，或者在湖边安装设备，通过管道抽取水样。但这种技术的建设成本比较高，而且监测位置是固定的，在天气不好，或者湖比较小的情况下，卫星遥感监测就无法进行。为了保护水资源，维护水环境，我国正在积极采取措施进行水环境监测管理，更多智能化的新型监测系统——河道排污监测系统也随之出现，让排污管理工作更具现代化，具有重要的现实意义。本项目设计实现以下特色： ")]),e("div",{staticClass:"a"},[e("h3",[t._v("一、无人船的构建和使用")]),e("span",[t._v("         使用Arduino和树莓派作为核心，树莓派主要负责控制采集定位， 捕获的图像检测识别，Arduino负责的是水质数据采集以及船的控制，Arduino和树莓派通过串口通信。 ")])]),e("div",{staticClass:"b"},[e("h3",[t._v("二、智能识别")]),e("span",[t._v("         使用Yolov9算法识别出污染物和排污口以及疑似偷排暗排的水域。YOLOv9，结合了PGI和GELAN的设计，展现出了卓越的性能。与YOLOv8相比，YOLOv9在参数和计算量上分别减少了49%和43%，同时在MS COCO数据集上的平均精度（AP）提升了0.6%。英特尔二代神经计算棒的加速下，提高了识别的准确度和速度，保障了数据的失效性和正确性。 ")])]),e("div",{staticClass:"c"},[e("h3",[t._v("三、定点自主巡航")]),e("span",[t._v("         用户通过北斗卫星导航系统（BDS）查询巡逻船当前的所处位置，其中北斗卫星导航系统（BDS）具有全天候、高精度、大范围、高可靠、性能稳定、保密性强，用户设备体积小、质量轻、功耗低，能同时满足手持、机载、星载和弹载等各种载体需要，具备一定的抗干扰和抗摧毁能力等属性。在网页端开启定点巡航，巡逻船规划路线，搭配上超声波传感器，加速度传感器。无人船进行自主巡航、路径规划、自主避障。 ")])])])}],F={name:"first4"},W=F,J=(0,o.A)(W,Z,E,!1,null,"862b26a4",null),q=J.exports,K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block"},[e("el-carousel",{attrs:{trigger:"click",height:"670px",interval:"2000"}},t._l(t.list,(function(t){return e("el-carousel-item",{key:t.id},[e("img",{attrs:{src:t.url}})])})),1)],1)},Q=[],R=a.p+"img/ship1.036a49c3.png",V=a.p+"img/ship2.58ebb532.png",X=a.p+"img/ship3.855153c3.png",tt=a.p+"img/ship4.c79f3b5a.png",et=a.p+"img/ship5.e66e51a1.png",at={data(){return{list:[{url:R},{url:V},{url:X},{url:tt},{url:et}]}}},it=at,nt=(0,o.A)(it,K,Q,!1,null,"dc9f8224",null),st=nt.exports,ot={name:"One",data(){return{activeIndex:"2",whichcomponent:"first2"}},components:{first2:H,first3:Y,first4:q,first5:st}},rt=ot,lt=(0,o.A)(rt,O,U,!1,null,null,null),ct=lt.exports,ut=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"673px","background-color":"#fff",margin:"10px"},attrs:{id:"a"}})},dt=[],pt=a(1921),ht=a(4373),mt={data(){return{myChart:null,option:{title:{text:"实时监测数据"},tooltip:{trigger:"axis"},legend:{data:["浑浊度","pH","温度","含氧量"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},series:[{name:"浑浊度",type:"line",stack:"Total",data:[]},{name:"pH",type:"line",stack:"Total",data:[]},{name:"温度",type:"line",stack:"Total",data:[]},{name:"含氧量",type:"line",stack:"Total",data:[]}]}}},methods:{fetchData(){Promise.all([ht.A.get(this.$buildUrl("/control/setData")),ht.A.get(this.$buildUrl("/control/setData1")),ht.A.get(this.$buildUrl("/control/setData2")),ht.A.get(this.$buildUrl("/control/setData3"))]).then((t=>{const[e,a,i,n]=t;this.option.xAxis.data=i.data.time.reverse(),this.option.series[0].data=e.data.data.reverse(),this.option.series[1].data=a.data.data.reverse(),this.option.series[2].data=i.data.data,this.option.series[3].data=n.data.data,this.myChart.setOption(this.option)})).catch((t=>{console.error("请求数据失败:",t)}))}},mounted(){this.myChart=pt.Ts(document.getElementById("a")),this.myChart.setOption(this.option),this.fetchData()}},vt=mt,ft=(0,o.A)(vt,ut,dt,!1,null,"3170a1f0",null),gt=ft.exports,_t=function(){var t=this;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"all"},[e("div",{staticClass:"video"},[e("img",{attrs:{src:"http://121.43.229.134:8080/video_feed",alt:"加载失败",title:"水下摄像头"}})]),e("div",{staticClass:"map"},[e("span",[t._v("高德地图")]),e("div",{staticClass:"Map",attrs:{id:"ditu"}})])])}],yt=a(3560),Ct=a.n(yt);window._AMapSecurityConfig={securityJsCode:"f789e6b6d9300227e0d5872d17b286ef"};var wt={name:"MapComponent",data(){return{map:null,markers:[{name:"监测点1",position:[113.02901,28.2466]},{name:"监测点2",position:[113.02876,28.2466]},{name:"监测点3",position:[113.02887,28.24456]},{name:"监测点4",position:[113.02927,28.24456]},{name:"船体位置",position:[113.02911,28.2453]}]}},mounted(){this.initMap()},methods:{getCurrentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{const e=t.coords,a=[e.longitude,e.latitude];this.map.setCenter(a)}),(()=>{console.error("定位失败，请检查浏览器定位权限设置")})):console.error("浏览器不支持地理定位")},initMap(){Ct().load({key:"77ba5144f8a53988f957c53d9dd7f0ca",version:"2.0",plugins:["AMap.Geolocation","AMap.Marker"]}).then((t=>{this.map=new t.Map("ditu",{viewMode:"3D",zoom:18,center:[113.02911,28.2453]}),this.map.addControl(new t.Geolocation({provider:"browser",zoomToAccuracy:!0})),this.getCurrentLocation(),this.addMarkers()})).catch((t=>{console.log(t)}))},addMarkers(){this.markers.forEach((t=>{new AMap.Marker({position:t.position,map:this.map,label:{offset:new AMap.Pixel(0,0),content:t.name,direction:"top"}})}))}}},xt=wt,At=(0,o.A)(xt,_t,bt,!1,null,"5455ca9a",null),kt=At.exports,$t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"all"},[e("div",{staticClass:"a"},[e("div",{staticClass:"container"},[e("span",{staticClass:"title"},[t._v("温度异常记录")]),t._l(t.temperatureAbnormalData,(function(a,i){return e("div",{key:i,staticClass:"data-item"},[e("span",{staticClass:"time"},[t._v(t._s(a.time))]),e("span",{staticClass:"value",staticStyle:{color:"rgb(2, 156, 2)"}},[t._v(t._s(a.value)+"℃ ")]),e("span",{staticClass:"message"},[t._v(t._s(a.message))])])}))],2),e("div",{staticClass:"container"},[e("span",{staticClass:"title"},[t._v("含氧量异常记录")]),t._l(t.oxygenAbnormalData,(function(a,i){return e("div",{key:i,staticClass:"data-item"},[e("span",{staticClass:"time"},[t._v(t._s(a.time))]),e("span",{staticClass:"value",staticStyle:{color:"rgb(16, 103, 235)"}},[t._v(t._s(a.value)+"% ")]),e("span",{staticClass:"message"},[t._v(t._s(a.message))])])}))],2),e("div",{staticClass:"container"},[e("span",{staticClass:"title"},[t._v("浊度异常记录")]),t._l(t.turbidityAbnormalData,(function(a,i){return e("div",{key:i,staticClass:"data-item"},[e("span",{staticClass:"time"},[t._v(t._s(a.time))]),e("span",{staticClass:"value",staticStyle:{color:"red"}},[t._v(t._s(a.value)+" NTU ")]),e("span",{staticClass:"message"},[t._v(t._s(a.message))])])}))],2),e("div",{staticClass:"container"},[e("span",{staticClass:"title"},[t._v("pH异常记录")]),t._l(t.pHAbnormalData,(function(a,i){return e("div",{key:i,staticClass:"data-item"},[e("span",{staticClass:"time"},[t._v(t._s(a.time))]),e("span",{staticClass:"value",staticStyle:{color:"purple"}},[t._v(t._s(a.value)+" Mol·L-1 ")]),e("span",{staticClass:"message"},[t._v(t._s(a.message))])])}))],2)]),e("div",{staticClass:"b"},[e("div",{staticClass:"img-item"},t._l(t.imgUrlList,(function(a,i){return e("div",{key:i},[e("el-image",{attrs:{src:a,"preview-src-list":t.imgUrlList}})],1)})),0),e("button",{on:{click:t.downloadImg}},[e("span",{staticClass:"text1"},[t._v("点击下载图片")]),e("span",[t._v("(点击图片可浏览)")])])])])},Dt=[],St={data(){return{abnormalData:[],temperatureAbnormalData:[],oxygenAbnormalData:[],turbidityAbnormalData:[],pHAbnormalData:[],time:"2024-10-14 18:16:12",value:"46",message:"正常",imgUrlList:[]}},created(){this.fetchData()},methods:{downloadImg(){const t=[a(9123),a(3060),a(4865)];this.imgUrlList=t},fetchData(){ht.A.get(this.$buildUrl("/abnormalData")).then((t=>{const e=t.data;this.abnormalData=e,this.temperatureAbnormalData=e.filter((t=>"温度"===t.type)),this.oxygenAbnormalData=e.filter((t=>"含氧量"===t.type)),this.turbidityAbnormalData=e.filter((t=>"浊度"===t.type)),this.pHAbnormalData=e.filter((t=>"pH"===t.type))})).catch((t=>{console.error("请求异常记录数据失败",t)}));const t={time:"2022-01-04 09:15",type:"温度",value:46,message:"温度异常"},e={time:"2022-01-05 12:30",type:"含氧量",value:90,message:"含氧异常"},a={time:"2022-01-05 12:30",type:"浊度",value:90,message:"浊度异常"},i={time:"2022-01-05 12:30",type:"浊度",value:34,message:"浊度异常"},n={time:"2022-01-05 12:30",type:"pH",value:10,message:"pH异常"},s=[t,e,a,i,n];this.abnormalData=[...this.abnormalData,...s],this.temperatureAbnormalData=[...this.temperatureAbnormalData,...s.filter((t=>"温度"===t.type))],this.oxygenAbnormalData=[...this.oxygenAbnormalData,...s.filter((t=>"含氧量"===t.type))],this.turbidityAbnormalData=[...this.turbidityAbnormalData,...s.filter((t=>"浊度"===t.type))],this.pHAbnormalData=[...this.pHAbnormalData,...s.filter((t=>"pH"===t.type))]}}},Ot=St,Ut=(0,o.A)(Ot,$t,Dt,!1,null,"54420a85",null),Mt=Ut.exports,Tt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"all"},[e("div",{staticClass:"video"}),e("div",{staticClass:"photo"},[e("div",{staticClass:"same"},[e("i",{staticClass:"el-icon-first-aid-kit"}),t._v("水泵 "),e("el-switch",{attrs:{"active-color":"#2bd6f0","inactive-color":"#e9eef3",id:"pump"},on:{change:function(e){return t.changeSwitch("pump")}},model:{value:t.pump,callback:function(e){t.pump=e},expression:"pump"}})],1),e("div",{staticClass:"same"},[e("i",{staticClass:"el-icon-table-lamp"}),t._v("灯 "),e("el-switch",{attrs:{"active-color":"#2bd6f0","inactive-color":"#e9eef3",id:"light"},on:{change:function(e){return t.changeSwitch("light")}},model:{value:t.light,callback:function(e){t.light=e},expression:"light"}})],1),e("div",{staticClass:"same"},[e("i",{staticClass:"el-icon-view"}),t._v("摄像头 "),e("el-switch",{attrs:{"active-color":"#2bd6f0","inactive-color":"#e9eef3",id:"video"},on:{change:function(e){return t.changeSwitch("video")}},model:{value:t.video,callback:function(e){t.video=e},expression:"video"}})],1),e("div",{staticClass:"same"},[e("i",{staticClass:"el-icon-orange"}),t._v("水质取样 "),e("el-switch",{attrs:{"active-color":"#2bd6f0","inactive-color":"#e9eef3",id:"waterdata"},on:{change:function(e){return t.changeSwitch("waterdata")}},model:{value:t.waterdata,callback:function(e){t.waterdata=e},expression:"waterdata"}})],1)])]),e("div",{staticClass:"control"},[e("div",{staticClass:"a"},[e("div",{staticClass:"text"},[t._v("船体控制")]),e("el-button",{staticStyle:{"font-size":"50px","margin-bottom":"10px"},attrs:{"data-direction":"up","data-target":"boat",icon:"el-icon-arrow-up",circle:""},on:{click:function(e){t.iconif1=!0}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)},touchend:function(e){return t.releaseMouse.apply(null,arguments)}}}),e("div",[e("el-button",{staticStyle:{"font-size":"50px"},attrs:{"data-direction":"left","data-target":"boat",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.iconif1=!0}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)},touchend:function(e){return t.releaseMouse.apply(null,arguments)}}}),e("el-button",{staticStyle:{"font-size":"50px"},attrs:{"data-direction":"stop","data-target":"boat",icon:t.iconif1?"el-icon-video-pause":"el-icon-video-play",circle:""},on:{click:function(e){t.iconif1=!t.iconif1}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)}}}),e("el-button",{staticStyle:{"font-size":"50px"},attrs:{"data-direction":"right","data-target":"boat",icon:"el-icon-arrow-right",circle:""},on:{click:function(e){t.iconif1=!0}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)},touchend:function(e){return t.releaseMouse.apply(null,arguments)}}})],1),e("el-button",{staticStyle:{"font-size":"50px","margin-top":"10px"},attrs:{"data-direction":"down","data-target":"boat",icon:"el-icon-arrow-down",circle:""},on:{click:function(e){t.iconif1=!0}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)},touchend:function(e){return t.releaseMouse.apply(null,arguments)}}})],1),e("div",{staticClass:"b"},[e("div",{staticClass:"text"},[t._v("舵机控制")]),e("el-button",{staticStyle:{"font-size":"50px","margin-bottom":"10px"},attrs:{"data-direction":"up","data-target":"engine",icon:"el-icon-arrow-up",circle:""},on:{click:function(e){t.iconif2=!0}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)},touchend:function(e){return t.releaseMouse.apply(null,arguments)}}}),e("div",[e("el-button",{staticStyle:{"font-size":"50px"},attrs:{"data-direction":"left","data-target":"engine",icon:"el-icon-arrow-left",circle:""},on:{click:function(e){t.iconif2=!0}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)},touchend:function(e){return t.releaseMouse.apply(null,arguments)}}}),e("el-button",{staticStyle:{"font-size":"50px"},attrs:{"data-direction":"stop","data-target":"engine",icon:t.iconif2?"el-icon-video-pause":"el-icon-video-play",circle:""},on:{click:function(e){t.iconif2=!t.iconif2}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)}}}),e("el-button",{staticStyle:{"font-size":"50px"},attrs:{"data-direction":"right","data-target":"engine",icon:"el-icon-arrow-right",circle:""},on:{click:function(e){t.iconif2=!0}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)},touchend:function(e){return t.releaseMouse.apply(null,arguments)}}})],1),e("el-button",{staticStyle:{"font-size":"50px","margin-top":"10px"},attrs:{"data-direction":"down","data-target":"engine",icon:"el-icon-arrow-down",circle:""},on:{click:function(e){t.iconif2=!0}},nativeOn:{touchstart:function(e){return t.clickBtn.apply(null,arguments)},touchend:function(e){return t.releaseMouse.apply(null,arguments)}}})],1)])])},Bt=[],Lt={name:"seven",data(){return{iconif1:!0,iconif2:!0,pump:!1,light:!1,oxygen_pump:!1,video:!0,waterdata:!1}},methods:{clickBtn(t){const e=t.currentTarget.dataset.direction,a=t.currentTarget.dataset.target;console.log(`${e} ${a} button is clicked`),this.control(e,a,"on")},releaseMouse(t){const e=t.currentTarget.dataset.direction,a=t.currentTarget.dataset.target;console.log(`${e} ${a} button is released`),this.controlStop(e,a,"stop")},control(t,e,a){"boat"===e?("up"===t&&ht.A.get(this.$buildUrl("/control/motor_forward_"+a)).then((t=>{})).catch((t=>{})),"down"===t&&ht.A.get(this.$buildUrl("/control/motor_backward_"+a)).then((t=>{})).catch((t=>{})),"left"===t&&ht.A.get(this.$buildUrl("/control/motor_left_"+a)).then((t=>{})).catch((t=>{})),"right"===t&&ht.A.get(this.$buildUrl("/control/motor_right_"+a)).then((t=>{})).catch((t=>{})),"stop"===t&&ht.A.get(this.$buildUrl("/control/motor_stop")).then((t=>{})).catch((t=>{}))):"engine"===e&&("up"===t&&ht.A.get(this.$buildUrl("/control/servo_forward_"+a)).then((t=>{})).catch((t=>{})),"down"===t&&ht.A.get(this.$buildUrl("/control/servo_backward_"+a)).then((t=>{})).catch((t=>{})),"left"===t&&ht.A.get(this.$buildUrl("/control/servo_left_"+a)).then((t=>{})).catch((t=>{})),"right"===t&&ht.A.get(this.$buildUrl("/control/servo_right_"+a)).then((t=>{})).catch((t=>{})),"stop"===t&&ht.A.get(this.$buildUrl("/control/servo_stop")).then((t=>{})).catch((t=>{})))},controlStop(t,e,a){("boat"===e||"engine"===e)&&("up"===t&&ht.A.get(this.$buildUrl("/control/motor_"+a)).then((t=>{})).catch((t=>{})),"down"===t&&ht.A.get(this.$buildUrl("/control/motor_"+a)).then((t=>{})).catch((t=>{})),"left"===t&&ht.A.get(this.$buildUrl("/control/motor_"+a)).then((t=>{})).catch((t=>{})),"right"===t&&ht.A.get(this.$buildUrl("/control/motor_"+a)).then((t=>{})).catch((t=>{})))},changeSwitch(t){let e=t,a=this[t],i="";switch(e){case"pump":i=a?this.$buildUrl("/control/pump_on"):this.$buildUrl("/control/pump_off");break;case"light":i=a?this.$buildUrl("/control/light_on"):this.$buildUrl("/control/light_off");break;case"oxygen_pump":i=a?this.$buildUrl("/control/oxygen_pump_on"):this.$buildUrl("/control/oxygen_pump_off");break;case"video":i=a?this.$buildUrl("/video_start"):this.$buildUrl("/video_stop");break;default:break}ht.A.get(i).then((()=>{let t={};t[e]=a})).catch((t=>{console.error(t)})),ht.A.post(this.$buildUrl("/btnState/changeBtn"),{target:e,checked:a}).then((t=>{})).catch((t=>{console.log(t)}))},transform(t){if(1==t)return!0},getBtnState(){ht.A.get(this.$buildUrl("/btnState/getBtnState")).then((t=>{console.log(t.data.data),this.pump=this.transform(t.data.data.pump),this.light=this.transform(t.data.data.light),this.oxygen_pump=this.transform(t.data.data.oxygen_pump),this.video=this.transform(t.data.data.video)})).catch((t=>{console.error(t)}))}},created(){this.getBtnState()}},zt=Lt,Ht=(0,o.A)(zt,Tt,Bt,!1,null,"809c1370",null),It=Ht.exports;i["default"].use(u.Ay);const Pt=new u.Ay({routes:[{path:"/",component:f},{path:"/layout",component:S,redirect:"/layout/7",children:[{path:"7",component:It},{path:"1",component:ct},{path:"3",component:gt},{path:"4",component:kt},{path:"5",component:Mt}]}]});var jt=Pt,Nt=a(3518);i["default"].use(Nt.Ay);var Gt=new Nt.Ay.Store({state:{msg:""},getters:{},mutations:{set_msg(t,e){t.msg=e}},actions:{},modules:{}}),Yt=a(8339),Zt=a.n(Yt),Et=a(1227),Ft=a.n(Et),Wt=a(1362),Jt=a.n(Wt),qt=a(5319),Kt=a.n(qt),Qt=a(7203),Rt=a.n(Qt);function Vt(t){var e=this.$globalData.mainUrl+t;return e}i["default"].use(Rt()),i["default"].use(Rt()),i["default"].use(Kt()),i["default"].use(Jt()),i["default"].use(Ft()),i["default"].use(Zt()),i["default"].config.productionTip=!1,i["default"].prototype.$globalData={mainUrl:"/api"},i["default"].prototype.$buildUrl=Vt,new i["default"]({router:jt,store:Gt,render:t=>t(c)}).$mount("#app")},9123:function(t,e,a){t.exports=a.p+"img/1.dc0b8c51.jpg"},3060:function(t,e,a){t.exports=a.p+"img/2.17501453.jpg"},4865:function(t,e,a){t.exports=a.p+"img/3.10110cdd.jpg"}},e={};function a(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,i,n,s){if(!i){var o=1/0;for(u=0;u<t.length;u++){i=t[u][0],n=t[u][1],s=t[u][2];for(var r=!0,l=0;l<i.length;l++)(!1&s||o>=s)&&Object.keys(a.O).every((function(t){return a.O[t](i[l])}))?i.splice(l--,1):(r=!1,s<o&&(o=s));if(r){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,n,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,s,o=i[0],r=i[1],l=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(l)var u=l(a)}for(e&&e(i);c<o.length;c++)s=o[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},i=self["webpackChunkship"]=self["webpackChunkship"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(1185)}));i=a.O(i)})();
//# sourceMappingURL=app.5952c4ee.js.map